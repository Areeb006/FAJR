<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover the exquisite details of Fajr's luxury perfumes. Each fragrance is crafted with premium ingredients for a unique olfactory experience.">
    <meta name="keywords" content="luxury perfume details, premium fragrance notes, Fajr perfume ingredients, exclusive scent profile, high-end perfume">
    <meta name="author" content="Fajr Luxury">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://fajrluxury.com/product-details.html">
    <title>Luxury Perfume Details | Fajr Premium Fragrance Specifications</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Product",
      "name": "Fajr Luxury Perfume",
      "image": "https://fajrluxury.com/images/products/product-1.jpg",
      "description": "Exquisite luxury perfume crafted with premium ingredients for a unique olfactory experience.",
      "brand": {
        "@type": "Brand",
        "name": "Fajr Luxury"
      },
      "offers": {
        "@type": "Offer",
        "url": "https://fajrluxury.com/product-details.html",
        "priceCurrency": "USD",
        "price": "199.99",
        "availability": "https://schema.org/InStock"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "127"
      }
    }
    </script>
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Product Details Specific Styles */
        .product-details-container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 30px;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        /* Filter styles from perfumes.html */
        .filter-container {
            background-color: var(--gray-color);
            padding: 20px 0;
            margin-bottom: 50px;
        }
        
        .filter-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            
        }
        
        .filter-btn {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 8px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            margin-bottom: 50px;
            margin-top: 50px;
        }
        
        .filter-btn.active,
        .filter-btn:hover {
            background-color: var(--primary-color);
            color: var(--light-text);
        }
        
        .gender-filter {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .product-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        
        /* Mobile-specific styles */
        @media (max-width: 768px) {
            .product-details-section {
                padding: 20px 0;
            }
        }
        
        .product-gallery {
            position: relative;
        }
        
        .main-image {
            width: 100%;
            height: 500px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        

        

        

        
        .gender-tag {
            background-color: var(--primary-color);
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        
        .product-description {
            margin-bottom: 30px;
            line-height: 1.8;
            color: var(--gray-text);
        }
        
        .product-meta {
            margin-bottom: 30px;
        }
        
        .meta-item {
            display: flex;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .meta-label {
            font-weight: 600;
            width: 120px;
            color: var(--dark-text);
        }
        
        .meta-value {
            color: var(--gray-text);
        }
        
        .product-actions {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            border: 1px solid var(--border-color);
            border-radius: 30px;
            overflow: hidden;
        }
        
        .quantity-btn {
            background-color: transparent;
            border: none;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quantity-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .quantity-input {
            width: 50px;
            text-align: center;
            border: none;
            font-size: 1rem;
            font-weight: 500;
        }
        
        .add-to-cart-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0 30px;
            height: 40px;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .add-to-cart-btn:hover {
            background-color: var(--dark-text);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .product-tabs {
            margin-top: 60px;
        }
        
        .tabs-nav {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .tab-btn {
            padding: 10px 20px;
            background-color: transparent;
            border: none;
            font-weight: 500;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .tab-btn:after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: all 0.3s ease;
        }
        
        .tab-btn.active {
            color: var(--primary-color);
        }
        
        .tab-btn.active:after {
            width: 100%;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .related-products {
            margin-top: 80px;
        }
        
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background-color: var(--primary-color);
        }
        
        .related-products-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }
        
        /* Responsive styles */
        @media (max-width: 992px) {
            .product-details {
                grid-template-columns: 1fr;
            }
            
            .related-products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .product-tabs {
                margin-top: 40px;
            }
            
            .tabs-nav {
                flex-wrap: wrap;
            }
        }
        
        @media (max-width: 768px) {
            .product-details-container {
                padding: 20px;
                margin: 30px 15px;
            }
            
            .main-image {
                height: 350px;
            }
            

            
            .product-actions {
                flex-direction: column;
                align-items: stretch;
            }
            
            .add-to-cart-btn {
                width: 100%;
                justify-content: center;
                margin-top: 15px;
            }
            
            .quantity-control {
                width: 100%;
                justify-content: space-between;
            }
            
            .tab-btn {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 576px) {
            .product-details-container {
                padding: 15px;
                margin: 20px 10px;
                border-radius: 10px;
            }
            
            .main-image {
                height: 300px;
            }
            

            

            
            .product-description {
                font-size: 0.95rem;
                line-height: 1.6;
            }
            
            .meta-item {
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 15px;
            }
            
            .meta-label {
                width: 100%;
                margin-bottom: 5px;
            }
            
            .related-products-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .section-title {
                font-size: 1.7rem;
            }
        }
        
        /* Animation effects */
        .shine-effect {
            position: relative;
            overflow: hidden;
        }
        
        .shine-effect:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.3) 100%);
            transform: skewX(-25deg);
            transition: all 0.75s;
        }
        
        .shine-effect:hover:before {
            left: 125%;
        }
    </style>
</head>
<body>
    <!-- Preloader removed -->

    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">

                <div class="logo-image">
                    
                    <img src="images/fajr-logo.png" alt="Fajr Luxury Logo" style="width: 50px;">
                
                </div>
                    <div class="logo">
                    <a href="index.html">FAJR</a>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="perfumes.html" class="nav-link">Perfumes</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link">About Us</a></li>
                    <li class="nav-item"><a href="contact.html" class="nav-link">Contact Us</a></li>
                    <li class="cart"><a href="cart.html" class="nav-link">Cart</a></li>
                    <li class="account"><a href="account.html" class="nav-link">My account</a></li>
                </ul>
                <div class="nav-icons">
                    <a href="cart.html" class="icon-link"><i class="fas fa-shopping-bag"></i></a>
                    <a href="account.html" class="icon-link"><i class="fas fa-user"></i></a>
                </div>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Product Details Section -->
    <section class="product-details-section">
        <div class="container">
            <div class="product-details-container animate__animated animate__fadeIn">
                <div class="product-details">
                    <div class="product-gallery">
                        <img src="images/perfume-1.jpg" alt="Midnight Oud luxury men's perfume with rich woody oriental notes by Fajr" class="main-image shine-effect animate__animated animate__fadeInLeft">
                    </div>
                    
                    <div class="product-info animate__animated animate__fadeInRight">
                        <h1 class="product-title">Midnight Oud</h1>
                        <p class="product-category">Perfume <span class="gender-tag">For Him</span></p>
                        <p class="product-price">₹12,500</p>
                        
                        <div class="product-description">
                            <p>Experience the captivating allure of Midnight Oud, a sophisticated fragrance that combines rich, woody notes with exotic spices. This luxurious scent opens with bergamot and saffron, transitions to a heart of rose and patchouli, and settles into a base of oud, amber, and vanilla. Perfect for evening occasions and special moments.</p>
                        </div>
                        
                        <div class="product-meta">
                            <div class="meta-item">
                                <span class="meta-label">Volume:</span>
                                <span class="meta-value">100ml</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">Longevity:</span>
                                <span class="meta-value">8-10 hours</span>
                            </div>
                        </div>
                        
                        <div class="product-actions">
                            <div class="quantity-control">
                                <button class="quantity-btn decrease">-</button>
                                <input type="number" class="quantity-input" value="1" min="1" max="10">
                                <button class="quantity-btn increase">+</button>
                            </div>
                            <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
                
                <div class="product-tabs">
                    <div class="tabs-nav">
                        <button class="tab-btn active" data-tab="description">Description</button>
                        <button class="tab-btn" data-tab="details">Details</button>
                    </div>
                    
                    <div class="tab-content active" id="description">
                        <h3>Product Description</h3>
                        <p>Midnight Oud is a luxurious fragrance that captures the essence of mystery and sophistication. This exquisite perfume is crafted with the finest ingredients, including rare oud wood, which has been prized for centuries for its rich, complex aroma.</p>
                        <p>The fragrance opens with bright notes of bergamot and saffron, creating an initial burst of freshness. As it develops, the heart notes of Bulgarian rose and patchouli emerge, adding depth and complexity. The base notes of oud, amber, and vanilla provide a warm, lingering finish that stays with you throughout the day and into the night.</p>
                        <p>Housed in an elegant glass bottle with gold accents, Midnight Oud is not just a fragrance but a statement piece for your collection. The attention to detail in both the scent and packaging reflects the luxury and craftsmanship that FAJR is known for.</p>
                    </div>
                    
                    <div class="tab-content" id="details">
                        <h3>Product Details</h3>
                        <ul>
                            <li><strong>Volume:</strong> 100ml</li>
                            <li><strong>Longevity:</strong> 8-10 hours</li>
                            <li><strong>Category:</strong> Perfume</li>
                            <li><strong>Gender:</strong> For Him</li>
                        </ul>
                    </div>
                    
                    <!-- Reviews section removed as requested -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- Related Products Section -->
    <section class="related-products">
        <div class="container">
            <h2 class="section-title">You May Also Like</h2>
            <div class="products-grid" id="related-products-container">
                <!-- Related products will be loaded dynamically from the database -->
            </div>
        </div>
    </section>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>FAJR</h2>
                    <p>Luxury Redefined</p>
                </div>
                
                <div class="social-icons">
                    <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>


                </div>
                
                <!-- Desktop footer links preserved but hidden on mobile via CSS -->
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="explore.html">Explore</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Feedback</h3>
                        <div class="footer-feedback-form">
                            <input type="text" placeholder="Your email" class="feedback-input">
                            <textarea placeholder="Your message" class="feedback-input" rows="3"></textarea>
                            <button class="btn btn-primary feedback-btn">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Fajr. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Gender filter functionality
            const genderButtons = document.querySelectorAll('.gender-filter .filter-btn');
            const productCards = document.querySelectorAll('.product-card');
            let activeGender = 'all';
            
            // Gender filter
            genderButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    genderButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Get filter value
                    activeGender = this.getAttribute('data-gender');
                    
                    // Filter products
                    filterProducts();
                });
            });
            
            // Filter products function
            function filterProducts() {
                productCards.forEach(card => {
                    const gender = card.getAttribute('data-gender');
                    
                    // Check if card matches gender filter
                    const matchesGender = activeGender === 'all' || gender === activeGender;
                    
                    if (matchesGender) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }
            
            // Preloader
            window.addEventListener('load', function() {
                const preloader = document.querySelector('.preloader');
                if (preloader) {
                    preloader.style.display = 'none';
                }
            });
            
            // Mobile Menu Toggle
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            hamburger.addEventListener('click', function() {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
            
            // Tabs Functionality
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Update active button
                    tabBtns.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update active content
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Quantity Control
            const decreaseBtn = document.querySelector('.decrease');
            const increaseBtn = document.querySelector('.increase');
            const quantityInput = document.querySelector('.quantity-input');
            
            decreaseBtn.addEventListener('click', function() {
                let value = parseInt(quantityInput.value);
                if (value > 1) {
                    quantityInput.value = value - 1;
                }
            });
            
            increaseBtn.addEventListener('click', function() {
                let value = parseInt(quantityInput.value);
                if (value < 10) {
                    quantityInput.value = value + 1;
                }
            });
            
            // Add to Cart Functionality
            const addToCartBtn = document.querySelector('.add-to-cart-btn');
            
            addToCartBtn.addEventListener('click', function() {
                // Get product details
                const productId = new URLSearchParams(window.location.search).get('id') || '1';
                const productTitle = document.querySelector('.product-title').textContent;
                const productPriceText = document.querySelector('.product-price').textContent;
                const productPrice = parseInt(String(productPriceText).replace(/[^0-9]/g, '')) || 0;
                const productImage = document.querySelector('.main-image').src;
                const quantity = parseInt(document.querySelector('.quantity-input').value);
                
                // Get existing cart or create new one
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                
                // Check if product already in cart
                const existingProduct = cart.find(item => item.id === productId);
                
                if (existingProduct) {
                    existingProduct.quantity += quantity;
                } else {
                    cart.push({
                        id: productId,
                        title: productTitle,
                        price: productPrice,
                        image: productImage,
                        quantity: quantity
                    });
                }
                
                // Save cart to localStorage
                localStorage.setItem('cart', JSON.stringify(cart));
                
                // Show notification
                showNotification(productTitle + ' added to cart!');
            });
            
            // Related Products - Add to Cart
            const relatedAddToCartBtns = document.querySelectorAll('.related-products .add-to-cart');
            
            relatedAddToCartBtns.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const productId = this.getAttribute('data-id');
                    const productCard = this.closest('.product-card');
                    const productTitle = productCard.querySelector('.product-title').textContent;
                    const productPrice = productCard.querySelector('.product-price').textContent;
                    const productImage = productCard.querySelector('img').src;
                    
                    // Get existing cart or create new one
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    
                    // Check if product already in cart
                    const existingProduct = cart.find(item => item.id === productId);
                    
                    if (existingProduct) {
                        existingProduct.quantity += 1;
                    } else {
                        cart.push({
                            id: productId,
                            title: productTitle,
                            price: productPrice,
                            image: productImage,
                            quantity: 1
                        });
                    }
                    
                    // Save cart to localStorage
                    localStorage.setItem('cart', JSON.stringify(cart));
                    
                    // Show notification
                    showNotification(productTitle + ' added to cart!');
                });
            });
            
            // Notification function
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'cart-notification';
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-check-circle"></i>
                        <p>${message}</p>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Add styles
                notification.style.position = 'fixed';
                notification.style.bottom = '20px';
                notification.style.right = '20px';
                notification.style.backgroundColor = 'var(--primary-color)';
                notification.style.color = 'white';
                notification.style.padding = '15px 20px';
                notification.style.borderRadius = '5px';
                notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';
                notification.style.zIndex = '1000';
                notification.style.transform = 'translateY(100px)';
                notification.style.opacity = '0';
                notification.style.transition = 'all 0.3s ease';
                
                // Show notification
                setTimeout(() => {
                    notification.style.transform = 'translateY(0)';
                    notification.style.opacity = '1';
                }, 10);
                
                // Hide after 3 seconds
                setTimeout(() => {
                    notification.style.transform = 'translateY(100px)';
                    notification.style.opacity = '0';
                    
                    // Remove from DOM after animation
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // Dynamic Product Loading from Database
            async function loadProductDetails() {
                const urlParams = new URLSearchParams(window.location.search);
                const productId = urlParams.get('id');
                
                // If no product ID is specified, default to product 1
                if (!productId) {
                    console.error('No product ID specified');
                    return;
                }
                
                try {
                    // Fetch product details from database API
                    const response = await fetch(`/api/products/${productId}`);
                    
                    if (!response.ok) {
                        throw new Error('Product not found');
                    }
                    
                    const data = await response.json();
                    
                    if (!data.success) {
                        throw new Error(data.message || 'Failed to load product');
                    }
                    
                    const p = data.product;
                    
                    // Update product details in the DOM
                    const titleElement = document.querySelector('.product-title');
                    const genderElement = document.querySelector('.gender-tag');
                    const priceElement = document.querySelector('.product-price');
                    const descriptionElement = document.querySelector('.product-description p');
                    const mainImageElement = document.querySelector('.main-image');
                    
                    if (titleElement) titleElement.textContent = p.title || 'Product Name';
                    if (genderElement) genderElement.textContent = p.gender || 'Unisex';
                    
                    if (priceElement) {
                        const priceValue = p.price;
                        const normalizedPrice = typeof priceValue === 'number' ? priceValue : parseInt(String(priceValue).replace(/[^0-9]/g, ''));
                        if (!isNaN(normalizedPrice)) {
                            priceElement.textContent = `₹${normalizedPrice.toLocaleString('en-IN')}`;
                        }
                    }
                    
                    if (descriptionElement) {
                        descriptionElement.textContent = p.description || 'Experience this luxurious fragrance crafted with premium ingredients for a unique olfactory experience.';
                    }
                    
                    // Update product images
                    if (mainImageElement && p.image_url) {
                        mainImageElement.src = p.image_url;
                        mainImageElement.alt = (p.title || 'Product') + ' - Luxury perfume by Fajr';
                    } else if (mainImageElement) {
                        mainImageElement.src = 'img/placeholder.svg';
                        mainImageElement.alt = (p.title || 'Product') + ' - Luxury perfume by Fajr';
                    }
                    
                    // Update product meta (only if elements exist)
                    const metaElements = document.querySelectorAll('.meta-value');
                    if (metaElements.length >= 2) {
                        metaElements[0].textContent = p.volume || '100ml';
                        metaElements[1].textContent = p.longevity || '6-8 hours';
                    }
                    
                    // Update product details tab
                    const detailsList = document.querySelector('#details ul');
                    if (detailsList) {
                        detailsList.innerHTML = `
                            <li><strong>Volume:</strong> ${p.volume || '100ml'}</li>
                            <li><strong>Longevity:</strong> ${p.longevity || '6-8 hours'}</li>
                            <li><strong>Category:</strong> ${p.category || 'Perfume'}</li>
                            <li><strong>Gender:</strong> ${p.gender || 'Unisex'}</li>
                        `;
                    }
                    
                    // Update description tab content
                    const descriptionTab = document.querySelector('#description');
                    if (descriptionTab) {
                        const descriptionText = p.description || 'Experience this luxurious fragrance crafted with premium ingredients for a unique olfactory experience.';
                        descriptionTab.innerHTML = `
                            <h3>Product Description</h3>
                            <p>${descriptionText}</p>
                            <p>This exquisite perfume is crafted with the finest ingredients, creating a sophisticated and memorable scent that reflects luxury and elegance.</p>
                            <p>Housed in an elegant bottle, this fragrance is not just a scent but a statement piece for your collection. The attention to detail in both the fragrance and packaging reflects the luxury and craftsmanship that FAJR is known for.</p>
                        `;
                    }
                    
                    // Update page title
                    document.title = `${p.title || 'Product'} - FAJR Luxury Store`;
                    
                    // Load related products
                    loadRelatedProducts(productId);
                    
                } catch (error) {
                    console.error('Error loading product details:', error);
                    // Handle error - show placeholder content
                    const titleElement = document.querySelector('.product-title');
                    const genderElement = document.querySelector('.gender-tag');
                    const priceElement = document.querySelector('.product-price');
                    const descriptionElement = document.querySelector('.product-description p');
                    
                    if (titleElement) titleElement.textContent = 'Product Not Found';
                    if (genderElement) genderElement.textContent = '';
                    if (priceElement) priceElement.textContent = '';
                    if (descriptionElement) descriptionElement.textContent = 'Sorry, the requested product could not be found.';
                    
                    document.title = 'Product Not Found - FAJR Luxury Store';
                }
            }
            
            // Load related products from database
            async function loadRelatedProducts(productId) {
                try {
                    // Fetch related products from database API
                    const response = await fetch(`/api/products`);
                    
                    if (!response.ok) {
                        throw new Error('Failed to load related products');
                    }
                    
                    const data = await response.json();
                    
                    if (!data.success) {
                        throw new Error(data.message || 'Failed to load products');
                    }
                    
                    const relatedProductsContainer = document.getElementById('related-products-container');
                    
                    if (!relatedProductsContainer) {
                        console.error('Related products container not found');
                        return;
                    }
                    
                    // Filter out the current product and limit to 3 related products
                    const relatedProducts = data.products.filter(product => product.id !== parseInt(productId)).slice(0, 3);
                    
                    // Clear existing content
                    relatedProductsContainer.innerHTML = '';
                    
                    if (relatedProducts.length === 0) {
                        relatedProductsContainer.innerHTML = '<p>No related products found.</p>';
                        return;
                    }
                    
                    // Add related products to the DOM
                    relatedProducts.forEach(product => {
                        const productCard = document.createElement('article');
                        productCard.className = 'product-card';
                        productCard.setAttribute('data-gender', product.gender.toLowerCase().replace(' ', '-'));
                        productCard.setAttribute('role', 'listitem');
                        productCard.setAttribute('data-product-id', product.id);
                        
                        // Format price to Indian Rupees
                        const priceValue = typeof product.price === 'number' ? product.price : parseInt(String(product.price).replace(/[^0-9]/g, ''));
                        const formattedPrice = '₹' + (isNaN(priceValue) ? 0 : priceValue).toLocaleString('en-IN');
                        
                        productCard.innerHTML = `
                            <div class="product-image">
                                <img src="${product.image_url || 'img/placeholder.svg'}" alt="${product.title}" loading="lazy">
                                <div class="product-overlay">
                                    <a href="product-details.html?id=${product.id}" class="overlay-btn">View Details</a>
                                </div>
                            </div>
                            <div class="product-info">
                                <h3 class="product-title">${product.title}</h3>
                                <p class="product-category">${product.category} · ${product.gender}</p>
                                <p class="product-price">${formattedPrice}</p>
                                <a href="product-details.html?id=${product.id}" class="mobile-view-btn">View Details</a>
                            </div>
                        `;
                        
                        // Make the entire card clickable
                        productCard.addEventListener('click', function(e) {
                            // Prevent click if the user clicked on a link or button inside the card
                            if (e.target.tagName === 'A' || e.target.tagName === 'BUTTON') {
                                return;
                            }
                            window.location.href = `product-details.html?id=${product.id}`;
                        });
                        
                        relatedProductsContainer.appendChild(productCard);
                    });
                    
                } catch (error) {
                    console.error('Error loading related products:', error);
                    const relatedProductsContainer = document.getElementById('related-products-container');
                    if (relatedProductsContainer) {
                        relatedProductsContainer.innerHTML = '<p>Unable to load related products.</p>';
                    }
                }
            }
            
            // Load product details on page load
            loadProductDetails();
        });
    </script>
</body>
</html>